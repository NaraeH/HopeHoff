<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="hopeHoff.dao.ShopDao">

	<resultMap type="Shop" id="shopMap">
		<id column="BBNO" property="businessNo"/>
   		<result column="SNAME" property="shopName"/>
   		<result column="SINTRO" property="shopIntro"/>
   		<result column="SADDR" property="shopAddr"/>
   		<result column="MAINPHOTO" property="shopMainPhoto"/>
   		<result column="STIME" property="shopTime"/>
   		<result column="SPHONE" property="shopPhone"/>
   		<result column="SINFO" property="shopInfo"/>
	</resultMap>
	
	<resultMap type="ShopPhoto" id="photoMap">
		<id column="BBNO" property="businessNo"/>
		<result column="MAINPHOTO" property="mainPhoto"/>
		<result column="DETAILPHOTO1" property="detailPhoto1"/>
		<result column="DETAILPHOTO2" property="detailPhoto2"/>
		<result column="DETAILPHOTO3" property="detailPhoto3"/>
	</resultMap>

	<select id="selectList" resultMap="shopMap">
		SELECT SHOP.BBNO, SNAME, SINTRO, SADDR, MAINPHOTO 
		FROM SHOP, SHOPPHOTO 
		WHERE SHOP.BBNO = SHOPPHOTO.BBNO
	</select>
	
  	<select id="selectOne" parameterType="String" resultMap="shopMap">
 		SELECT STIME, SPHONE, SNAME, SINFO, SADDR
		FROM SHOP 
		WHERE BBNO = #{businessNo}
	</select>
	
	<select id="selectPhoto" parameterType="String" resultMap="photoMap">
 		 SELECT BBNO, MAINPHOTO, DETAILPHOTO1, DETAILPHOTO2, DETAILPHOTO3
		 FROM SHOPPHOTO  
		 WHERE BBNO = #{businessNo}
	</select>

	
<!-- 	<select id="selectMenu" parameterType="String" resultMap="Menu">
 		 SELECT MAINPHOTO, DETAILPHOTO1, DETAILPHOTO2, DETAILPHOTO3
		 FROM SHOP, SHOPPHOTO  
		 WHERE SHOP.BBNO = SHOPPHOTO.BBNO
		 AND SHOP.SNAME = #{shopName}
	</select> -->
	
</mapper>